<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
<link type="text/css" rel="stylesheet" href="../fonts.css"> 
<script src="../indexh.js"> </script>
    <title>C-10</title>
</head>
<body>
    <h1><a href="../index.html">부러의 다락방</a></h1> 
    <br>
    <li>원래파일 읽어오기 - puts사용 fgetc사용</li>
    <pre>
#include &lt;stdio.h&gt;

int main()
{
    FILE *src = fopen("C:/src.txt", "rt"); 
    FILE *des = fopen("srcCp2.txt", "wt"); 
    
    int ch; 
    
    if(src == NULL)
    {
        puts("파일없음\n");
        return -1;  
    }
    
    if(des == NULL)
    {
        puts("파일생성실패\n");
        return -1;  
    }
    
    while((ch = fgetc(src))!=EOF)
    { 
        if(des != NULL)
        {
            printf("%c", ch);
            //puts("파일복사완료"); 
        }
        else 
        {
    
            puts("파일 복사 실패"); 
        }
    }
    
    fclose(src); 
    fclose(des); 
    
    return 0; 
}

/*
C드라이브의 src.txt내용 출력  
나는앵무새가조아
왕관앵무동그란거귀엽고
털복슬복슬동글동글
볼따구동글동글
이제C언어가이말을할거야
일해라코드야
*/
    </pre>
<br>
<li>hello.dat파일 만들기</li>
<pre>
#include &lt;stdio.h&gt;

int main() //쓰기  
{
    //char *s1 = "Hello World!"; //포인터변수로 초기화하는.. 원래 포인터 8바이트  
    char s1[] = "Hello World"; 
    FILE *fp = fopen("c:/hello.dat", "wb"); 
    
    fwrite(s1, 1, sizeof(s1), fp); //s1를, 1씩, sizeof(s1)만큼, fp에다 rite
    fclose(fp); 
    
    return 0; 
}

/*
Hello World 
*/
</pre>
<br>
<li>hello.dat파일 읽기</li>
<pre>
#include &lt;stdio.h&gt;

int main() //읽기  
{ 
    char s1[100]; 
    FILE *fp = fopen("c:/hello.dat", "rb"); 
    
    fwrite(s1, 1, sizeof(s1), fp); 
    
    fread(s1, sizeof(s1), 1, fp); 
    printf("%s\n", s1); 
    fclose(fp); 
    
    return 0; 
}

/*
정보 가져옴 콘솔결과: Hello World 
*/
</pre>
<br>
<li>이미지 카피하기 (새 파일로)</li>
<pre>
#include &lt;stdio.h&gt;

int main()
{ 
    FILE *src = fopen("c:/image-C1.jpeg", "rb"); 
    FILE *src_copy = fopen("c:/image-C1_copy.jpeg", "wb"); 
    
    if(src == NULL)
    {
        printf("소스없음 \n"); 
        return -1; 
    }
    
    char ch[200] = {0,}; 
    
    while(fread(ch,1,sizeof(ch), src) != NULL)
    {
        fwrite(ch, sizeof(ch), 1, src_copy); 
    }
    
    fclose(src); 
    fclose(src_copy); 
    
    return 0; 
}

/*
이미지 카피!!  
*/
</pre>
<br>
</body>
</html>