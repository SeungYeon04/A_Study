
### 쓰레드 이어서 2 

해당 쓰레드는 해당 객체에 대한 모니터링 락에 대한 권한을 갖고 있었다면  
웨이트를 만들면 모니터링 락에 대한 권한을 놓고 대기함  
  
#### ThreadB.java 
```
package pack;

public class ThreadB extends Thread {
	int total; 
	
	public void run () {
		synchronized(this) {
			for(int i = 0 ; i < 5; i++) {
				System.out.println(i + "를 더합니다."); 
				total += i; 
				
				try {
					Thread.sleep(500);
				} catch (InterruptedException e) {
					e.printStackTrace();
				}
			}
			notify(); //wait를 깨우고 다음작업 계속 진행되게 해줌  
		}
	}
}
``` 
  
#### ThreadA.java 
```
package pack;

public class ThreadA {
	public static void main(String[] args) {
		ThreadB b = new ThreadB(); 
		b.start(); 
		
		synchronized (b) {
			try {
				System.out.println("b가 완료 될 때까지 기다리시오"); 
				b.wait(); 
			} catch(InterruptedException e) {
				e.printStackTrace(); 
			}
			System.out.println("Total is : " + b.total);
			
		}
	}
}
``` 
  
*** 
  
#### 데몬쓰레드 
데몬(Daemon): 리눅스 유닉스 계열의 운영체제에서  
백그라운드로 동작하는 프로그램  
  
데몬쓰레드(Daemon Thread): 자바에서 데몬과 유사하게 동작하는 쓰레드  
  
데몬쓰레드는 쓰레드에 데몬설정하면 됨  
자바프로그램 만들 때 백에서 특별작업 하게 하는 용  
주기적 저장 에디터 만들 때 일정 시간마다 맞춤법 검사하는 등의 용도  
일반쓰레드가 모두 종료되면 얘네는 강종됨  
  
#### DeamonThread.java 
```
package pack;

public class DeamonThread implements Runnable {

	@Override
	public void run() {
		while(true) {
			System.out.println("데몬 어벤져 쓰레드가 실행중입니다"); 
			
			try {
				Thread.sleep(500);
			} catch (InterruptedException e) {
				e.printStackTrace(); //이거 왜 있더라 
				break; 
			} 
		}
	}
		
	public static void main(String[] args) {
		Thread thread = new Thread(new DeamonThread()); 
		thread.setDaemon(true); 
		thread.start(); 
		
		try {
			Thread.sleep(1000);
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
		System.out.println("메인 쓰레드가 종료 됩니다.");
	}
}
```
데몬 어벤져 쓰레드가 실행중입니다  
데몬 어벤져 쓰레드가 실행중입니다  
메인쓰레드가 종료 됩니다.  
  
메인 종료 되면서 데몬도 종료됨  
  
### DeamonThread.java 
```
package pack;

public class DeamonThread implements Runnable {

	@Override
	public void run() {
		while(true) {
			System.out.println("데몬 어벤져 쓰레드가 실행중입니다"); 
			
			try {
				Thread.sleep(500);
			} catch (InterruptedException e) {
				e.printStackTrace(); //이거 왜 있더라 
				break; 
			} 
		}
	}
		
	public static void main(String[] args) {
		Thread thread = new Thread(new DeamonThread()); 
		thread.setDaemon(true); // *이걸 설정하면 데몬 스레드로 동작함 
		thread.start(); 
		
		try {
			Thread.sleep(1000);
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
		System.out.println("메인 쓰레드가 종료 됩니다.");
	}
}
```
👉 메인 스레드가 1초 후 종료되면, 데몬 스레드도 함께 종료돼.  
👉 만약 setDaemon(false)이거나 아예 설정하지 않으면, 데몬 스레드가 아닌 일반 스레드가 되어 메인 스레드가 종료되어도 계속 실행됨.  
  
*** 


