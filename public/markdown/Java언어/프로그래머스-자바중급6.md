
### 쓰레드 이어서 2 

해당 쓰레드는 해당 객체에 대한 모니터링 락에 대한 권한을 갖고 있었다면  
웨이트를 만들면 모니터링 락에 대한 권한을 놓고 대기함  
  
#### ThreadB.java 
```
package pack;

public class ThreadB extends Thread {
	int total; 
	
	public void run () {
		synchronized(this) {
			for(int i = 0 ; i < 5; i++) {
				System.out.println(i + "를 더합니다."); 
				total += i; 
				
				try {
					Thread.sleep(500);
				} catch (InterruptedException e) {
					e.printStackTrace();
				}
			}
			notify(); //wait를 깨우고 다음작업 계속 진행되게 해줌  
		}
	}
}
``` 
  
#### ThreadA.java 
```
package pack;

public class ThreadA {
	public static void main(String[] args) {
		ThreadB b = new ThreadB(); 
		b.start(); 
		
		synchronized (b) {
			try {
				System.out.println("b가 완료 될 때까지 기다리시오"); 
				b.wait(); 
			} catch(InterruptedException e) {
				e.printStackTrace(); 
			}
			System.out.println("Total is : " + b.total);
			
		}
	}
}
``` 
  
*** 
  
#### 데몬쓰레드 
데몬(Daemon): 리눅스 유닉스 계열의 운영체제에서  
백그라운드로 동작하는 프로그램  
  
데몬쓰레드(Daemon Thread): 자바에서 데몬과 유사하게 동작하는 쓰레드  
  
데몬쓰레드는 쓰레드에 데몬설정하면 됨  
자바프로그램 만들 때 백에서 특별작업 하게 하는 용  
주기적 저장 에디터 만들 때 일정 시간마다 맞춤법 검사하는 등의 용도  
일반쓰레드가 모두 종료되면 얘네는 강종됨  
  
#### DeamonThread.java 
```
package pack;

public class DeamonThread implements Runnable {

	@Override
	public void run() {
		while(true) {
			System.out.println("데몬 어벤져 쓰레드가 실행중입니다"); 
			
			try {
				Thread.sleep(500);
			} catch (InterruptedException e) {
				e.printStackTrace(); //이거 왜 있더라 
				break; 
			} 
		}
	}
		
	public static void main(String[] args) {
		Thread thread = new Thread(new DeamonThread()); 
		thread.setDaemon(true); 
		thread.start(); 
		
		try {
			Thread.sleep(1000);
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
		System.out.println("메인 쓰레드가 종료 됩니다.");
	}
}
```
데몬 어벤져 쓰레드가 실행중입니다  
데몬 어벤져 쓰레드가 실행중입니다  
메인쓰레드가 종료 됩니다.  
  
메인 종료 되면서 데몬도 종료됨  
  
### DeamonThread.java 
```
package pack;

public class DeamonThread implements Runnable {

	@Override
	public void run() {
		while(true) {
			System.out.println("데몬 어벤져 쓰레드가 실행중입니다"); 
			
			try {
				Thread.sleep(500);
			} catch (InterruptedException e) {
				e.printStackTrace(); //이거 왜 있더라 
				break; 
			} 
		}
	}
		
	public static void main(String[] args) {
		Thread thread = new Thread(new DeamonThread()); 
		thread.setDaemon(true); // *이걸 설정하면 데몬 스레드로 동작함 
		thread.start(); 
		
		try {
			Thread.sleep(1000);
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
		System.out.println("메인 쓰레드가 종료 됩니다.");
	}
}
```
👉 메인 스레드가 1초 후 종료되면, 데몬 스레드도 함께 종료돼.  
👉 만약 setDaemon(false)이거나 아예 설정하지 않으면, 데몬 스레드가 아닌 일반 스레드가 되어 메인 스레드가 종료되어도 계속 실행됨.  
  
*** 

### 람다식 기초 

#### 람다식 간단 쓰레드와 비교 
```
package pack;

public class LamdaExam {
	public static void main(String[] args) {
		
		//러너블로 객체생성해서 전달 
		new Thread(new Runnable() {
			@Override 
			public void run() {
				for(int i =0; i < 10; i++) {
					System.out.println("hello");
				}
			}
		}).start(); 
		
		/* 위 new Thread(new Runnable() {} ).start(); 는 
		 * 쓰레드가실행될때 쓰레드생성자안에넣은 런메소드 실행되라는 것 
		 * 자바는 메소드만 매개변수만 전달할 법 없고 
		 * 인스턴스만 전달했는데 여기선 런 메소드 갖고있는 러너블을 객체로 만들어서 
		 * 전달한 것 자바는 메소드만 전달하는 법이 없음 객체로 굳이 만들어서 전달함 
		 * 이걸 해결하는 게 람다표현식 직접 생성할 필요 없게 */
		
		//람다식으로 하여 전달 
		new Thread(()-> {
			for(int i =0; i < 10; i++) {
				System.out.println("hello");
			}
		}).start(); 
	}
}
``` 
  
*** 
  
### 람다식 문법 
( 매개변수 목록 ) -> { 실행문 }  
  
*** 
  
#### Compare.java (인터페이스) 
```
package pack;

public interface Compare { //인터페이스 
	//구현은 없는 매개변수 둘의 메소드 선언만 있고 구현은 없음 
	//이 인터페이스를 사용하는 클래스는 반드시 compareTo필요 
	//compareTo로 두 개의 정수를 비교하라고 만든 인터페이스 
	//이 인터페이스는 그냥 두 정수를 비교하는 메소드를 정의만 함 
	public int compareTo(int value1, int vlaue2); 
}
``` 
  
#### CampareExam.java 
```
package pack;

public class CampareExam { //아까 그 인터페이스를 사용할 클래스

	//exec메소드는 Compare 인터페이스를 매개변수로 받음 
	//k m 을 호출하여 비교한 값을 받아 출력함 
	//인터페이스는 구현이 없기 때문에 직접 실행 불가 
	public static void exec(Compare compare) {
		int k = 10; 
		int m = 20; 
		int value = compare.compareTo(k, m); 
		System.out.println(value); 
	}
	
	//그래서 람다식으로 직접 구현해서 넘겨줌 
	public static void main(String[] args) {
		exec((i,j) -> {
				return i - j;  //양수면 i가 크고 0이면 중간 음수면 j가 크다 
		});
		
	}

}
``` 
  

