
웹 앱 서비스 상관 없고  
개인 프로젝트로  
DB 분석은 무조건 나와야 함.  
AI 활용해도 좋고. 옵션은 자유.  
  
전에 잠깐 했던 로또앱 보완해서  
제공되는 API이나  
년도별 표기해서 이미 있는 데이터 쓰거나 해서  
시각적으로 보여주는 것도 좋을 듯.  
진짜 UI좀 예쁜 간단 번호앱..  
  
파이썬으로 게임개발 할까 했는데 ㄲㅂ  
통계게임 없나  
  
### 아이디어 정리 

게임 내에서 플레이어에게 동의를 받기.  
개인정보동의 체크를 받도록 하고  
동의된 true 계정 기준으로  
  
*** 
  
특허 등록: 정말 차별성 있어야 함.  
근데 우리가 됨?????????????????  
핫한 키워드: 감정 추론  
감정 추론으로 관계 케어 앱.  
특허 등록 가능성 1위  
구현결과 보여줘야 함.  
  
삼성이 이거 쓰려면 발명가에게 돈 주고 사야됨.  
추론 명세서 작성 중입니다.  
특허 관련해서 인적사항 받으면  
  
다음은 무조건 된다는  
욕창 체크 서비스  
특허 출헌에 들어감.  
  
캡스톤 전체가 좋은데  
우리가 1위  
3위가 레시피?  
  
1 2 3 4위가 B반  
  
관계개선 앱  
  
구현결과 보고 하는 곳 있는데  
특허는 아이디어 단계의 순위  
  
삼성 등 누가 개발하겠다 하면  
특허권을 주는 거야.  
그 아이디어를 구매하게 하는 것  
  
서론: 1인 가구 비대면  
어떻게 커뮤할지 모르는 시대  
커플의 관계 개선부터 시작해서  
사회의 네트워크 개선을 위한  
앱을 소개한다  
  
1. 채팅 데이터 속 관계 속 지수파악  
감정추론 AI를 사용  
2. 식물로 관계를 시각화하여  
예쁘게 말하도록 하고  
보상시스템을 제공  
3. 예쁘게 말하는 법을 상담하는 GPT 챗봇  
4. 웹으로 함께 키운 가든을  
웹으로 투어해볼 수 있도록 할 예정  
  
*** 
  
jupyter notebook 실행해서  
http://localhost:8888/lab?  
  
### 지정 테이블 출력해서 평균 계산 
```
import pandas as pd

## 지정 테이블 출력해서 평균 계산 
df = pd.DataFrame({'제품':['사과','딸기','수박'], '가격':[1800,1500,3000], '판매량':[24,38,13]})

price = sum(df['가격'] / 3)
push = sum(df['판매량'] / 3)
msg = "가격 평균: "+ str(price) + " 판매량 평균 " + str(push)
msg
```
'가격 평균: 2100.0 판매량 평균 25.0'  
  
### 엑셀파일로 테이블 표시 
```
import pandas as pd
## 엑셀파일로 테이블 표시 
df2 = pd.read_excel('excel_exam_novar.xlsx', header=None, sheet_name=1)
df2
```
  
### 테이블로 엑셀파일 생성 
```
df_midterm = pd.DataFrame({'english':[90,80,60,70],'math':[50,60,100,20],'nclass':[1,1,2,2]})
df_midterm.to_csv('output.csv', index=False) ##인덱스는 저장 안함.
df = pd.read_csv('output.csv')
df
```
  
### 최근3개 표시 & 마지막3개 표시 
```
import pandas as pd 
exam = pd.read_csv('output.csv')
exam.head(3) ## 앞에 10줄만 확인 
exam.tail(3) ## 뒤에 10줄만 확인 
```
  
#### + 옵션 설명 

코드:  
```
exam.shape ##  행열 수 확인  
```
결과: (4, 3)  
  
코드:  
```
exam.info() ## 열(변수) 속성확인  
```
결과:  
```
<class 'pandas.core.frame.DataFrame'>  
RangeIndex: 4 entries, 0 to 3  
Data columns (total 3 columns):  
 #   Column   Non-Null Count  Dtype  
---  ------   --------------  -----  
 0   english  4 non-null      int64  
 1   math     4 non-null      int64  
 2   nclass   4 non-null      int64  
dtypes: int64(3)   
memory usage: 228.0 bytes  
```
  
코드:  
```
exam.describe()
```
평균 떨어진 값 등  
이것저것 나옴.  
  
#### 카피해서 새 변수 
df_new = df.copy()  
df_new  
  
*** 
  
### 과제1 (4번까지 출력, 컬럼명 변경, new 로 복사본 활용) 
```
import pandas as pd
## 엑셀파일로 테이블 표시 
mpg = pd.read_csv('mpg.csv')
mpg_new = mpg.copy()

mpg_new = mpg_new.rename(columns = {'cyl' : 'city', 'hwy' : 'highway'})

mpg_new.head(5)
```
  
### A, B, C 조건처리 
```
위에 카피한 값을 이용해 

mpg_new['grade']=np.where(mpg_new['total']>=20, 'A', np.where(mpg_new['total']>=15, 'B', 'C'))
count_grade = mpg_new['grade'].value_counts().sort_index(ascending=False) ## sort_index() 추가하여 ABC로 정렬 -> ascending로 반대로 CBA 
count_grade.plot.bar(rot=0) ## count_grade 그래프형 출력, rot=0 뒤집힌 거 세로정렬 
```
  
### 카테고리 
```
mpg_new['size'] = np.where((mpg_new['category']=='compact') | 
                           (mpg_new['category'] == 'subcompact') | 
                           (mpg_new['category'] == '2seater'), 'small', 'large')
mpg_new['size'].value_counts()
```
  
*** 
  
### 문제 정리 
```

#1. 패키지 로드
import pandas as pd #데이터 프레임 다루는 패키지
import numpy as np #통계 연산에 필요한 패키지

#2. 데이터 불러오기
mpg = pd.read_csv(‘mpg.csv’)

#3. 데이터 파악하기
mpg.head() #앞 5행
mpg.tail()   #뒤 5행
mpg.shape  #행, 열  
mpg.info()   #열(변수) 속성 자세히
mpg.describe() #기본 통계 처리(mean, min, max, std, 50%. 25%, 75%)

#4. 변수명 바꾸기(copy() 함수 필수 사용!)
mpg = mpg.rename(columns = {‘manufacturer’ : ‘company’})

#5. 파생변수 만들기
mpg[‘total’] = (mpg[‘cty’] + mpg[‘hwy’]) /2
mpg[‘test’] = np.where(mpg[‘total’] >= 20, ‘pass’, ‘fail’)

#6. 빈도 확인하기
count_test = mpg[‘test’].value_counts()
count_test.plot_bar(rot = 0)
```
  
*** 
  
### 데이터 분석 과제 
```
midwest.csv는 미국 동북중부(East North Central States) 
437개 지역의 인구 통계 정보를 담고 있습니다. 
midwest.csv를 이용해 데이터 분석 문제를 해결하시오.

(문제 1) midwest.csv를 불러와 데이터의 특징을 파악하세요.

(문제 2) poptotal(전체 인구) 변수를 total로, popasian(아시아 인구) 
변수를 asian으로 수정하세요.

(문제 3) total, asian 변수를 이용해 
‘전체 인구 대비 아시아 인구 백분율’ 파생변수(ratio)를 추가하고, 
히스토그램을 만들어 분포를 살펴보세요.

(문제 4) 아시아 인구 백분율 전체 평균을 구하고, 평균을 초과하면 ‘large’, 
그 외에는 ‘small’을 부여한 파생변수(‘result‘)를 만들어 보세요.

(문제 5) ‘large’와 ‘small’에 해당하는 지역이 얼마나 많은지 빈도표와 빈도 막대 
그래프를 만들어 확인해보세요. 
```
  
#### (문제 1) midwest.csv를 불러와 데이터의 특징을 파악하세요. 
```
import pandas as pd

person = pd.read_csv("midwest.csv")
person
```
  
#### (문제 2) poptotal(전체 인구) 변수를 total로, popasian(아시아 인구) 
```
person = person.rename(columns = {'poptotal' : 'total', 'popasian' : 'asian'})
```
  
#### (문제 3) total, asian 변수를 이용해 ‘전체 인구 대비 아시아 인구 백분율’ 파생변수(ratio)를 추가하고, 히스토그램을 만들어 분포를 살펴보세요.
```
(이부분 재미니가 도와줌)  
person['total'] = pd.to_numeric(person['total'], errors='coerce')  
person['asian'] = pd.to_numeric(person['asian'], errors='coerce')  
  
'ratio' 파생 변수 생성  
person['ratio'] = (person['asian'] / person['total']) * 100  
```
    
#### (문제 4) 아시아 인구 백분율 전체 평균을 구하고, 평균을 초과하면 ‘large’, 그 외에는 ‘small’을 부여한 파생변수(‘result‘)를 만들어 보세요.

캡스톤 문제 처리 후 ㄱㄱ  
